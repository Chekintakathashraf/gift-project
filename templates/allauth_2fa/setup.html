{% extends "bases/mfa_base.html" %}
{% load static %}
{% load i18n %}

{% block content %}
  <div class="flex justify-center items-center h-screen w-full">
    <div class="p-8 w-full max-w-xl">
      <div class="bg-white shadow-md rounded-md p-6">
        <div class="box-body">
          <h1 class="text-2xl font-semibold mb-4 text-center">
            {% trans "Setup Two-Factor Authentication" %}
          </h1>

          <h4 class="text-xl font-semibold mb-2 text-center">
            {% trans 'Step 1' %}
          </h4>
          <p class="text-base mb-4 text-center">
            {% trans 'Scan the QR code below with a token generator of your choice (for instance Google Authenticator).' %}
          </p>
          <div class="flex justify-center mb-4">
            <img src="{{ qr_code_url }}" alt="{% trans 'QR Code' %}" />
          </div>

          <p class="text-base mb-4 text-center">
            {% trans 'Secret' %} {{ secret }}
          </p>

          <h4 class="text-xl font-semibold mb-2 text-center">
            {% trans 'Step 2' %}
          </h4>
          <p class="text-base mb-4 text-center">
            {% trans 'Input a token generated by the app' %}
          </p>

          <form method="post" class="mt-4">
            {% csrf_token %}
            <div class="text-red-500 mb-2 text-center">
              {{ form.non_field_errors }}
            </div>
            <div>
              <input
                type="text"
                id="otp_token"
                name="otp_token"
                class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                placeholder="{% trans 'Enter Authentication Token' %}"
                required
              />
            </div>
            <div class="mt-4">
              <button
                type="submit"
                class="w-full py-2 rounded btn-primary font-bold"
              >
                {% trans 'Verify' %}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
